<!DOCTYPE html>
<html lang="en">
<!--.  ,--,                          ,-. ,-.
 |  | /  /                         __| |_| |
 |  |/  / _ __ _   _ ____ _   _ _ (__, ._| |___
 |      \| `__| | | Y ___| |_| | `_  \ | | ,_. \
 |  |\   \ |  | |_| |___ \___, | | | | | | | | |
 |__| \___\|  '.__,_|____/ __| |_| |_|_| |_| |_|
                          '----><head>
 <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Page 7 of 8 for posts | Bill Hunt</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="posts" />
<meta name="author" content="Bill Hunt" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Personal website and blog of Bill Hunt" />
<meta property="og:description" content="Personal website and blog of Bill Hunt" />
<link rel="canonical" href="https://billhunt.dev/posts/blog/7/" />
<meta property="og:url" content="https://billhunt.dev/posts/blog/7/" />
<meta property="og:site_name" content="Bill Hunt" />
<meta property="og:type" content="website" />
<link rel="prev" href="https://billhunt.dev/posts/blog/6/" />
<link rel="next" href="https://billhunt.dev/posts/blog/8/" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="posts" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Bill Hunt"},"description":"Personal website and blog of Bill Hunt","headline":"posts","url":"https://billhunt.dev/posts/blog/7/"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/css/main.css?1669816261">
  <link rel="stylesheet" media="print" href="/assets/css/print.css?1669816261">

  <link rel="alternate" type="application/atom+xml" title=" - All Content" href="https://billhunt.dev/feed.xml" />
  <link rel="alternate" type="application/atom+xml" title=" - Posts Only" href="https://billhunt.dev/posts.xml" />
  <link rel="alternate" type="application/atom+xml" title=" - Jobs Only" href="https://billhunt.dev/jobs.xml" />
  <link rel="alternate" type="application/atom+xml" title=" - Recommended Links Only" href="https://billhunt.dev/recommended.xml" />
  <link rel="meta" type="application/rdf+xml" title="FOAF" href="/foaf.rdf" />
  

  <link rel="me" href="https://mastodon.publicinterest.town/@krusynth" />
  <link rel="me" href="https://mastodon.cloud/@krusynth" />

  <script src="https://static.billhunt.dev/assets/js/jquery.min.js?1669816261"></script>
  <script src="https://static.billhunt.dev/assets/js/unpoly.min.js?1669816261"></script>
  <script src="https://static.billhunt.dev/assets/js/fontawesome-6/fontawesome.min.js?1669816261"></script>
  <script type="module" src="/assets/js/main.js?1669816261"></script>
  <script src="https://static.billhunt.dev/assets/js/blink-polyfill.js"></script>
</head>
<body><nav class="navbar navbar-expand-lg container">
  <div class="branding">
    <a class="navbar-brand" rel="author" href="/" up-follow>Bill Hunt</a>
    <div class="about-description">
      U.S. Gov Civic Technologist & Policy Expert
    </div>
  </div>

  <div class="navlink-container">
    <ul class="nav navbar-nav nav-pages">
      <li class="nav-item nav-page">
        <a class="nav-link" href="/" up-follow>Blog</a>
      </li>
      <li class="nav-item nav-page">
        <a class="nav-link" href="/about/" up-follow>About</a>
      </li>
      <li class="nav-item nav-page">
        <a class="nav-link" href="/shop/" up-follow>Shop</a>
      </li>
      <li class="nav-item nav-page">
        <a class="nav-link" href="/links/" up-follow>Links</a>
      </li>
      <li class="mastodon nav-item nav-social">
        <a href="https://mastodon.cloud/@krusynth" title="Mastodon" class="nav-link" rel="me"><span class="fab fa-mastodon icon"></span></a>
      </li>
        
      <li class="github nav-item nav-social">
        <a href="https://github.com/krusynth" title="GitHub" class="nav-link" rel="me"><span class="fab fa-github icon"></span></a>
      </li>
        
      <li class="linkedin nav-item nav-social">
        <a href="https://www.linkedin.com/in/krusynth/" title="LinkedIn" class="nav-link" rel="me"><span class="fab fa-linkedin icon"></span></a>
      </li>
        
      
    </ul>
  </div>

  <div class="audioplayer-block">
    <div id="audioplayer" class="audioplayer">
      <button id="playpause" class="player-button"><span class="fas fa-play" id="playbutton"></span><span class="fas fa-pause hide" id="pausebutton"></span></button>
      <select id="audiofile" class="player-button tracklist" aria-label="Track to Play">
        <option value="Nine_Inch_Nails-Head_Like_A_Hole.midi.mp3">Nine Inch Nails - Head Like A Hole</option>
        <option value="Prodigy-Breathe.midi.mp3">Prodigy - Breathe</option>
        <option value="Sisters_of_Mercy-Temple_of_Love.midi.mp3">Sisters of Mercy - Temple of Love</option>
        <option value="The_Cult-She_Sells_Sancturary.midi.mp3">The Cult - She Sells Sancturary</option>
        <option value="KMFDM-Megalomaniac.midi.mp3">KMFDM - Megalomaniac</option>
        <option value="Tool-Aenima.midi.mp3">Tool - Aenima</option>
        <option value="Rammstein-Engel.midi.mp3">Rammstein - Engel</option>
        <option value="Rancid-TimeBomb.midi.mp3">Rancid - TimeBomb</option>
        <option value="Mighty_Mighty_Bosstones-The_Impression_That_I_Get.midi.mp3">Mighty Mighty Bosstones - The Impression That I Get</option>
        <option value="Offspring-All_I_Want.midi.mp3">Offspring - All I Want</option>
        <option value="Smashing_Pumpkins-1979.midi.mp3">Smashing Pumpkins - 1979</option>
        <option value="Nirvana-Heart_Shaped_Box.midi.mp3">Nirvana - Heart Shaped Box</option>
      </select>
    </div>
  </div>

  <section class="about-header">
    <div class="navbar-tagline" id="tagline">Move carefully and fix things</div>
  </section>
</nav>
<div class="content" id="main" up-main>
        <section class="posts content-container posts">
  <h2 class="section-title">posts
    
  </h2>

  

  <div class="posts-container">
    
      
      
      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2010/04/09/defensive-programming/"up-follow>Defensive Programming</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2010.04.09
            </span> –
          
            As a web developer, the greater part of my job is not creating new apps, but hacking together disparate software packages into Frankensteinian amalgamations that (supposedly) work together seamlessly.  This is universally a headache, as the original authors tend to write code thinking that their app is the only one that will be installed.  <a href="http://wordpress.org">WordPress</a>, <a href="http://vanillaforums.org/">Vanilla</a>, and <a href="http://www.interspire.com/emailmarketer/">Interspire’s Email Marketer</a> are some of the worst offenders that I struggle with regularly.

When coding your own brilliant application, there are a few simple things you can do to avoid potential collisions and headaches later, especially if anyone else will be using your code.  Here are a few areas to pay attention to.<!--more-->

<h3 id="namespace">Namespace</h3>

First and foremost, you need to watch out for collisions. If you’re not using a language with built-in namespacing (e.g. PHP &lt;5.3), you’ll need to manage this manually. Some areas that you need to watch out for are:

<ul>
  <li>Class Names</li>
  <li>Session Variables</li>
  <li>Local Variables</li>
  <li>Constants &amp; Globals</li>
  <li>Database Tables</li>
</ul>

Most databases already have a “users” table somewhere, and an app of any size is likely to have a variable named “args” or “params” (or two, or ten…). For most cases, it’s usually enough to prefix your names with your application name.  Keeping your names verbose helps, too.

<h3 id="program-flow">Program Flow</h3>

When writing code, it’s always a good idea to keep everything to small, reusable functions.  This is especially true of published apps, because your users are very likely to be using your code in ways that your original app is not.  Try to break things down to the smallest possible chunks, even if it looks pedantic in your application.  For instance, break up your createUser() function into separate functions to add the user to the user table, subscribing the user to an email list, adding the user to the default group, etc.

Assume that your code will be executing inside of someone else’s code.  Try not to use print and echo statements when you can simply pass returned values – only print as the final step.  (An easy way to fake this is to use output buffering.)  You never know where your output is going anyway – so don’t assume that it will be a particular format – it may end up as HTML, an email body, or in the error log depending on how it’s implemented.

Pay special attention to any implicit defaults or rules that your code expects.  Don’t force the code to expect complicated series of objects or parameters that any one else wouldn’t immediately understand.  Don’t rely on database restrictions to impose your business rules.

Assume that your code will be glued into an existing user system at some point – make your user system as user-friendly as possible.  Create big wide hooks that anyone can use later to interact with your user system.  Actually, do this for everything.  (Ok, WordPress, you got that one right at least.)

Keep things wrapped up in nice containers.  Don’t just leave large procedural chunks lying around for others to trip over.  Don’t forget to give some attention to your configuration files on this front.

<strong>Don’t use globals.  Don’t use globals.  For the love of God, don’t use globals.  I don’t care how clever you think you are (I’m looking at you, <a href="http://wordpress.org">WordPress</a>), you’re going to screw everyone else up if you use globals.</strong>

<h3 id="dont-step-on-toes">Don’t Step On Toes</h3>

When you’re managing your resources, it’s a good idea to be courteous of others.  If you’re using a database connection or local file, keep a copy of the handle around instead of relying on the implicit “last opened” scheme many languages offer.  And since you’re all such brilliant developers, I don’t have to remind you to make sure to clean up after yourself – closing any connections that you opened, deleting any temporary files you’ve created, and cleaning up any objects you’re done using.  Even better, write error handling into all of your code so these things are done automatically even if something fails!

One particularly abused area is Session/Cookie management.  I cannot begin to list the number of applications that hijack the session and fill/clear it wantonly.  In general, you should never be destroying a session, or blanking out the entire cookie.  Always sandbox off your content into a hash (using namespaces again), so that you can remove only the content you added.  Also, don’t ever set the session name directly – just use the default.  (At least, in PHP you can’t use two different sessions simultaneously – setting the session name removes the ability to use any other session).

<h3 id="in-conclusion">In conclusion…</h3>

Do be a considerate programmer.  Do keep good fences (as they make for good neighbors).  Don’t build giant monoliths (as they attract groups of violent monkeys).  Stick to these rules and you’ll save everyone a lot of trouble in the long run.


          
          </p>
          <p>
            <a href="/blog/2010/04/09/defensive-programming/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    
      
      
      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2009/06/16/symfony-doctrine-on-the-command-line-using-the-wrong-database/"up-follow>Symfony + Doctrine on the command line using the wrong database</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2009.06.16
            </span> –
          
            So, one us <a href="http://www.hotelicopter.com/team">pilots</a> was trying to use <strong>Doctrine migrations</strong> to update a database on one of our servers. However, Doctrine was sternly refusing to use the correct database, as configured in the <strong><code class="language-plaintext highlighter-rouge">database.yml</code></strong> file. As it turns out, using <strong>Symfony</strong> from the command line skips the usual route through the <code class="language-plaintext highlighter-rouge">/web/yourapplication.php</code> file (e.g. <code class="language-plaintext highlighter-rouge">backend.php</code> or <code class="language-plaintext highlighter-rouge">frontend.php</code>). As a result, the environment is not properly set when reading the <code class="language-plaintext highlighter-rouge">database &lt;a href="http://biturlz.com/Bmg5FIK"&gt;team management app&lt;/a&gt;.yml</code> file, and instead the last database connection specified is used. Lame. The trick is to specify the environment from the command line, so this file (and the other config files) do what they’re supposed to:

<code class="language-plaintext highlighter-rouge">&lt;br /&gt;
symfony doctrine:migrate --env=staging frontend 119&lt;br /&gt;
</code>

where “staging” is whatever the environment is you want to use (to match the name in the <code class="language-plaintext highlighter-rouge">database.yml</code> file).


          
          </p>
          <p>
            <a href="/blog/2009/06/16/symfony-doctrine-on-the-command-line-using-the-wrong-database/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    
      
      
      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2009/06/01/php-simpletest-unit-testing-expecting-exceptions-and-errors/"up-follow>PHP SimpleTest Unit Testing – Expecting Exceptions and Errors</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2009.06.01
            </span> –
          
            Like a good programmer, I try to be good about unit testing <a href="http://biturlz.com/895fqf8">More Info</a>. And also as a good programmer, I throw errors in my PHP where appropriate. I just learned today after a bit of digging through the codebase, that <a href="http://www.lastcraft.com/simple_test.php" title="SimpleTest from lastcraft">SimpleTest</a> can be told to expect an Exception (or error) to be thrown in the test. <!--more-->

When using <code class="language-plaintext highlighter-rouge">trigger_error()</code>, you can use the <code class="language-plaintext highlighter-rouge">expectError()</code> as follows:

<code class="language-plaintext highlighter-rouge">&lt;br /&gt;
	$this-&gt;expectError( $errorMessageToExpect, 'My message about this test case' );&lt;br /&gt;
	my_code_that_causes_an_error();&lt;br /&gt;
</code>

Note that there is an internal <strong>queue of errors</strong> in SimpleTest, so it will expect precisely one error for each call to <code class="language-plaintext highlighter-rouge">expectError()</code>.

If, however, you’re using <code class="language-plaintext highlighter-rouge">throw</code> you use <code class="language-plaintext highlighter-rouge">expectException</code> instead:

<code class="language-plaintext highlighter-rouge">&lt;br /&gt;
	$this-&gt;expectException( $exceptionclass, 'My message about this test case' );&lt;br /&gt;
	my_code_that_throws_an_exception_of_type_exceptionclass();&lt;br /&gt;
</code>

You can specify the class of exception to expect in the first parameter – the usual type would be <code class="language-plaintext highlighter-rouge">Exception</code>, of course. If you set the first parameter to <code class="language-plaintext highlighter-rouge">false</code>, it defaults to this type.


          
          </p>
          <p>
            <a href="/blog/2009/06/01/php-simpletest-unit-testing-expecting-exceptions-and-errors/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    
      
      
      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2009/01/26/php-session-dropping-problem-with-ie-7/"up-follow>PHP Session Dropping Problem with IE 7</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2009.01.26
            </span> –
          
            We were just struggling <a href="http://hotels.vibeagent.com" title="VibeAgent">here at work</a> with an insane problem where IE 7 (and ONLY IE 7) was <strong>dropping sessions for PHP</strong>. Literally, we would try a trivial test case of creating a session and a new session id (generated with the session_id() function) would appear each time. Checking the session_save_path showed that new sessions were being created each time. In the end, we discovered that <strong>IE 7 will not save session cookies if there is an underscore in the domain name</strong>. (Our development sites frequently have an underscore in the subdomain name – it’s amazing that we hadn’t found this out earlier.) We’ve replaced the underscore with a hyphen, and everything appears to work correctly.


          
          </p>
          <p>
            <a href="/blog/2009/01/26/php-session-dropping-problem-with-ie-7/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    
      
      
      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2008/08/15/os-x-quarantine-resolution-file-downloaded-from-the-internet/"up-follow>OS X’ Quarantine Resolution (“File Downloaded From The Internet”)</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2008.08.15
            </span> –
          
            If you’ve had the pleasure of upgrading to 10.5, you may have noticed that OS X suddenly began acting like Windows. Whenever you download a file, it now prompts you with a message, asking if you really actually want to open the file. <!--more-->What possessed the fevered brains of the development team is beyond my comprehension. Well, yes, thank you, I downloaded the file for a pretty effing good reason and I’m rather sure that I want to open the file that I, myself, downloaded. I wasn’t just saving it for a special occasion.

Now, you can’t disable this “feature” altogether.  You may have seen the fix which enables a custom folder action for the Download folder, but this is a stopgap measure at best.  As you may have discovered, as soon as you expand a zip or other compressed archive, it will prompt you upon opening each and every file contained within.

I recently found <a href="http://mymacinations.com/2008/02/06/changing-the-systems-default-settings-for-html-files-safe/" title="Disable Apple's Quarantine On Downloaded Files">a post which describes how to disable the prompt</a>, but only on a file-type basis.  Still, this is a great improvement, assuming you have the patience to insert your most commonly used filetypes.  (Note to self: at some point, post a comprehensive version of this file.)


          
          </p>
          <p>
            <a href="/blog/2008/08/15/os-x-quarantine-resolution-file-downloaded-from-the-internet/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    
      
      
      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2008/02/08/bbedit-regular-expression-case-change-options/"up-follow>BBEdit: Regular Expression Case Change Options</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2008.02.08
            </span> –
          
            I’m a huge fan of <a href="http://en.wikipedia.org/wiki/Regular_expressions">Regular Expressions</a>. They are, without a doubt, the single most powerful tool in the programmer’s toolbox. <a href="http://www.barebones.com/">BBEdit</a>, my favorite text editor, happens to have really excellent regular expression support. Among its features is the ability to change the case of matched text – which is really great if you’re having to reformat lists or, say, rename every function in your code.<!--more-->

Here’s how it works. You write your usual regular expression in the Find window. In the Replace box, you prepend the normal replacement tag (<code class="language-plaintext highlighter-rouge">\1, \2</code>, etc) with a key character which transforms the following match. Here’s a list of available transformations:

<dl>
  <dt>\u</dt>
  <dd>Make the next character uppercase</dd>
  <dt>\U</dt>
  <dd>Make all following characters uppercase until reaching another case specifier (\u, \L, \l ) or \E</dd>
  <dt>\l (lowercase L)</dt>
  <dd>Make the next character lowercase</dd>
  <dt>\L</dt>
  <dd>Make all following characters lowercase until reaching another case specifier (\u, \U, \l ) or \E</dd>
  <dt>\E</dt>
  <dd>End case transformation opened by \U or \L</dd>
</dl>

So, a match would look like:

<code class="language-plaintext highlighter-rouge">&lt;br /&gt;
This is UPPERCASE: \U\1\E, this is camelCase: \L\1\E\u\2&lt;br /&gt;
</code>


          
          </p>
          <p>
            <a href="/blog/2008/02/08/bbedit-regular-expression-case-change-options/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    
  </div>
  <!-- Pagination links -->
  <div class="pagination">
    
      <a href="/posts/blog/6/" class="previous btn" title="Previous Page" up-follow>
        ◀
      </a>
    
    <span class="page-number ">
      7
    </span>
    
      <a href="/posts/blog/8/" class="next btn" title="Next Page" up-follow>▶</a>
    
  </div>
</section>


    </div>
<footer class="page-footer">
  <div class="webring">
    <script src="https://static.billhunt.dev/civictech/webring.js"></script>
    <script>showWebring(true);</script>
  </div>

  <div class="credits">
    All content &copy; Bill Hunt
  </div>

  <div class="oldschool-buttons">
    <a href="https://jekyllrb.com/" title="Built With Jekyll" class="old-button jekyll">Jekyll</a>
    <a href="https://archive.org/download/netscape-navigator-4.0.4/netscape-navigator-4.0.4.png" class="old-button netscape" title="Get Netscape 4.0"></a>
  </div>
</footer>
</body>

</html>
